name: Setup dev environment on windows

on: [push]

jobs:
  # Build job
  Run-PSScriptAnalyzer-on-Windows:
    name: Make dev environment on Windows
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install Scoop
        shell: pwsh
        run: |
          Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
          irm get.scoop.sh | iex
      - name: Install Git, fnm, Node.js and pnpm
        shell: pwsh
        run: |
          scoop bucket add main
          scoop install main/git
          scoop install main/fnm
          fnm install --lts
          fnm use v18.16.0
          scoop install main/pnpm
          scoop list
